# 配置指南

文档阅读器的所有配置都集中在 reader/config.json 文件中。通过修改这个文件，您可以自定义网站标题、侧边栏名称、功能开关等各项参数。本章节详细说明每个配置项的作用和可选值，帮助您打造专属的文档阅读器。

## 基础配置

### source_dir

source_dir 用于指定源文档所在的目录。该目录下的文件会被自动扫描并生成文档索引，支持多级子目录结构。默认值为 "txt"，表示使用项目根目录下的 txt 文件夹。如果您想使用其他名称或位置的文档目录，可以修改此配置项，例如 "docs" 或 "documentation"。

请确保指定的目录存在于项目根目录中，且目录名不包含空格或特殊字符。如果目录不存在，系统会显示配置错误提示。

### site_title

site_title 设置浏览器标签页和页面标题栏显示的网站名称。这是一个字符串值，例如 "技术文档中心" 或 "项目文档库"。这个标题会显示在浏览器的标签页上，帮助用户识别当前浏览的网站。

### sidebar_title

sidebar_title 用于自定义侧边栏顶部的标题文字。默认值为 "文档目录"，您可以根据实际需求修改为更符合项目特点的名称，如 "目录导航"、"内容索引" 等。这个标题仅在侧边栏区域显示，不影响浏览器标签页的标题。

### theme

theme 用于指定默认的主题模式，可选值为 "light"（亮色模式）和 "dark"（暗色模式）。默认值为 "light"。需要注意的是，这个配置仅设置默认主题，用户可以随时通过界面上的主题切换按钮切换到其他主题，用户的偏好设置会被保存在本地存储中，下次访问时自动恢复。

### max_content_width

max_content_width 用于设置文档内容区域的最大宽度，单位为像素。默认值为 900。这个配置可以帮助您在宽屏显示器上限制内容的阅读宽度，避免过长的行影响阅读体验。如果您希望内容占满整个可用宽度，可以将此值设置为较大的数字，如 1200 或 2000，或者直接删除此配置项以使用默认值。

## 功能开关

### enable_search

enable_search 是一个布尔值配置项，用于控制是否显示搜索功能。设置为 true 时，侧边栏会显示搜索输入框；设置为 false 时，隐藏搜索功能。默认值为 true。搜索功能对于文档数量较多的项目非常实用，可以帮助用户快速定位目标文档。

### enable_back_to_top

enable_back_to_top 控制是否显示"返回顶部"按钮。当文档内容较长时，这个按钮可以帮助用户快速返回页面顶部。设置为 false 时隐藏按钮，设置为 true 时显示按钮。默认值为 true。如果您希望在页面中禁用此功能，将其设置为 false 即可。

### home_page

home_page 用于指定首页文档的路径。设置为一个有效的文档文件名（相对于 docs 目录），例如 "readme.txt" 或 "introduction.md"。当用户首次访问或直接访问网站根路径时，系统会自动加载指定的文档内容。

将此值设置为 null 或删除该项可禁用首页功能，此时会显示默认的欢迎页面。默认值为 null。此功能特别适合将项目的介绍文档或使用指南设置为首页，让用户第一时间了解项目概况。

## 排除配置

### exclude_patterns

exclude_patterns 是一个字符串数组，用于指定要排除的文件类型模式。例如，如果您希望排除所有以 "draft_" 开头的文件，可以配置为 ["draft_*"]。支持通配符 * 匹配任意字符。这个配置在需要区分正式发布文档和草稿文档时非常有用。

### exclude_files

exclude_files 是一个字符串数组，用于指定要排除的完整文件名。例如 ["secret.md", "internal.txt"] 会排除这两个特定文件。与 exclude_patterns 不同，exclude_files 要求完全匹配文件名，不支持通配符。

## 配置示例

以下是一个完整的配置示例，展示了各项配置的最佳实践：

{
  "source_dir": "txt",
  "site_title": "技术文档中心",
  "sidebar_title": "文档目录",
  "theme": "light",
  "max_content_width": 900,
  "enable_search": true,
  "enable_back_to_top": true,
  "home_page": "01-项目简介.txt",
  "exclude_patterns": ["draft_*", "private_*"],
  "exclude_files": ["todo.md"]
}

这个配置设置了项目名称为"技术文档中心"，首页为"01-项目简介.txt"，并排除了所有以 draft_ 和 private_ 开头的文件。搜索功能和返回顶部按钮都已启用，内容区域最大宽度为 900 像素。

## 注意事项

修改配置文件后，如果您使用本地服务器运行，可能需要刷新页面才能看到更新。对于托管在静态托管平台上的网站，由于浏览器可能缓存了配置文件，您可能需要强制刷新（Ctrl+F5）或等待缓存过期。如需立即生效，可以在配置文件的 URL 后添加时间戳参数来破坏缓存。
