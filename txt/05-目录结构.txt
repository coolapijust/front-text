# 目录结构

本文档详细介绍文档阅读器项目的目录结构，帮助您了解每个文件和文件夹的作用，便于进行自定义配置和二次开发。

## 项目根目录

项目根目录包含以下主要文件和文件夹：

reader/          前端应用目录，包含所有网页相关文件
scripts/         脚本目录，包含文档同步等工具脚本
txt/             文档源目录，所有要展示的文档放入此目录
config.json      项目配置文件（部署时使用）

## reader 目录详解

reader 目录是前端应用的核心，包含所有用户界面相关的文件。这个目录可以直接部署到任何静态网页托管平台。

reader/
├── index.html          主页面文件，定义页面结构和布局
├── app.js              核心JavaScript文件，处理交互逻辑
├── index.json          自动生成的文档索引文件
├── css/
│   └── style.css       样式表文件，定义所有视觉样式
└── docs/               文档输出目录（自动生成）
    ├── *.txt           纯文本文档
    └── *.html          转换后的HTML文档

index.html 是网站的入口文件，定义了页面的整体结构，包括侧边栏、内容区域和底部工具栏。这个文件引用了 CSS 样式表和 JavaScript 脚本，负责加载页面所需的资源。

app.js 包含了所有的交互逻辑，包括配置加载、侧边栏渲染、文档加载、搜索功能、主题切换等功能。这个文件采用模块化设计，主要逻辑封装在一个立即执行函数中，避免污染全局命名空间。

index.json 是自动生成的索引文件，记录了所有文档的目录结构。每次运行同步脚本时，这个文件会根据 txt 目录的实际内容重新生成。系统通过读取这个文件来渲染侧边栏的文档树。

docs 目录用于存放转换后的文档文件。同步脚本会自动将 txt 目录中的文档复制或转换到此目录。如果源文档是 Markdown 格式，会被转换为 HTML；如果是纯文本，则直接复制。这个目录的内容由同步脚本自动管理，不建议手动修改。

## scripts 目录详解

scripts 目录包含用于文档同步和维护的 Python 脚本。

scripts/
└── sync.py             文档同步脚本

sync.py 是项目的核心同步脚本，负责将 txt 目录下的文档同步到 reader/docs 目录，并生成文档索引。运行此脚本前需要确保已安装 python-docx 库用于处理 Word 文档。

脚本的主要功能包括：扫描 txt 目录及其子目录下的所有文档文件、复制或转换文档到 reader/docs 目录、生成 reader/index.json 索引文件、跳过未修改的文件以提高效率。详细用法请参考"安装部署"章节。

## txt 目录详解

txt 目录是文档的源目录，您需要将所有要展示的文档放在这个目录中。系统会自动扫描这个目录并生成文档树。

txt/
├── *.txt               根目录下的纯文本文档
├── *.md                根目录下的Markdown文档
└── [子目录名]/         子目录，用于组织分类文档
    ├── *.txt
    └── *.md

文档可以按需创建子目录进行分类组织，子目录名称会显示为侧边栏中的文件夹名称。建议使用简洁明了的英文或中文目录名，避免使用特殊字符。

txt 目录中的文档格式要求如下：TXT 文件使用 UTF-8 编码，Markdown 文件使用 .md 扩展名。文件名建议简洁明了，以数字开头可以控制排序顺序，如 "01-概述.txt"、"02-安装.txt" 等。

## 配置文件说明

项目使用两个配置文件，分别用于不同的场景：

reader/config.json  是运行时的配置文件，影响网站的显示和行为。这个文件会被网页读取，因此可以随时修改而无需重新构建。

config.json（项目根目录）是开发时的配置模板，用于同步脚本确定源目录位置。在部署到静态托管平台时，可以直接使用 reader/config.json，将此文件删除或忽略。

## 二次开发建议

如果您需要对本项目进行二次开发，建议保持以下目录结构不变，仅修改 reader 目录下的文件。这种方式可以确保同步脚本正常工作，同时便于从上游项目获取更新。

对于需要深度定制的场景，您可以修改 reader/css/style.css 调整视觉样式，修改 reader/app.js 添加或修改功能。项目的代码结构清晰，注释详细，方便理解和修改。

请注意，修改 index.json 和 reader/docs/ 目录下的文件是徒劳的，因为这些文件会在下次运行同步脚本时被重新生成。如需添加自定义页面，可以直接在 txt 目录中创建文档，并通过链接进行访问。
